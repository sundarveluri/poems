<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Poem Website</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4""></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
  <header class="bg-white shadow-md">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-indigo-600">Poem Creator</h1>
      <nav>
        <ul class="flex space-x-4 text-gray-700">
          <li>
            <button id="nav-login-btn" class="hover:text-indigo-600 font-semibold">Login</button>
          </li>
          <li>
            <button id="nav-signup-btn" class="hover:text-indigo-600 font-semibold">Sign Up</button>
          </li>
          <li>
            <button id="nav-dashboard-btn" class="hidden hover:text-indigo-600 font-semibold">Dashboard</button>
          </li>
          <li>
            <button id="nav-logout-btn" class="hidden hover:text-indigo-600 font-semibold">Logout</button>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="flex-grow container mx-auto px-4 py-8 max-w-4xl">
    <!-- Login Form -->
    <section id="login-section" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
      <h2 class="text-2xl font-bold mb-6 text-center text-indigo-600">Login to Your Account</h2>
      <form id="login-form" class="space-y-6">
        <div>
          <label for="login-email" class="block mb-1 font-semibold text-gray-700">Email</label>
          <input
            type="email"
            id="login-email"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="you@example.com"
          />
        </div>
        <div>
          <label for="login-password" class="block mb-1 font-semibold text-gray-700">Password</label>
          <input
            type="password"
            id="login-password"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Enter your password"
          />
        </div>
        <button
          type="submit"
          class="w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition"
        >
          Login
        </button>
      </form>
      <p class="mt-4 text-center text-gray-600">
        Don't have an account?
        <button id="switch-to-signup" class="text-indigo-600 font-semibold hover:underline">Sign Up</button>
      </p>
      <p class="mt-2 text-center text-gray-600">
        Forgot your password?
        <button id="switch-to-reset" class="text-indigo-600 font-semibold hover:underline">Reset Password</button>
      </p>
    </section>

    <!-- Signup Form -->
    <section id="signup-section" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md hidden">
      <h2 class="text-2xl font-bold mb-6 text-center text-indigo-600">Create a New Account</h2>
      <form id="signup-form" class="space-y-6">
        <div>
          <label for="signup-name" class="block mb-1 font-semibold text-gray-700">Full Name</label>
          <input
            type="text"
            id="signup-name"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Your full name"
          />
        </div>
        <div>
          <label for="signup-email" class="block mb-1 font-semibold text-gray-700">Email</label>
          <input
            type="email"
            id="signup-email"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="you@example.com"
          />
        </div>
        <div>
          <label for="signup-password" class="block mb-1 font-semibold text-gray-700">Password</label>
          <input
            type="password"
            id="signup-password"
            required
            minlength="6"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Create a password"
          />
        </div>
        <button
          type="submit"
          class="w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition"
        >
          Sign Up
        </button>
      </form>
      <p class="mt-4 text-center text-gray-600">
        Already have an account?
        <button id="switch-to-login-from-signup" class="text-indigo-600 font-semibold hover:underline">Login</button>
      </p>
    </section>

    <!-- Password Reset Form -->
    <section id="reset-section" class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md hidden">
      <h2 class="text-2xl font-bold mb-6 text-center text-indigo-600">Reset Your Password</h2>
      <form id="reset-form" class="space-y-6">
        <div>
          <label for="reset-email" class="block mb-1 font-semibold text-gray-700">Email</label>
          <input
            type="email"
            id="reset-email"
            required
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="you@example.com"
          />
        </div>
        <div>
          <label for="reset-new-password" class="block mb-1 font-semibold text-gray-700">New Password</label>
          <input
            type="password"
            id="reset-new-password"
            required
            minlength="6"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Enter new password"
          />
        </div>
        <button
          type="submit"
          class="w-full bg-indigo-600 text-white font-semibold py-2 rounded-md hover:bg-indigo-700 transition"
        >
          Reset Password
        </button>
      </form>
      <p class="mt-4 text-center text-gray-600">
        Remembered your password?
        <button id="switch-to-login-from-reset" class="text-indigo-600 font-semibold hover:underline">Login</button>
      </p>
    </section>

    <!-- Dashboard -->
    <section id="dashboard-section" class="hidden">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold text-indigo-600">Your Poems</h2>
        <button
          id="create-poem-btn"
          class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition flex items-center space-x-2"
        >
          <i class="fas fa-plus"></i><span>Create New Poem</span>
        </button>
      </div>

      <div id="poems-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Poems will be dynamically inserted here -->
      </div>
    </section>

    <!-- Poem Editor Modal -->
    <div
      id="poem-editor-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden"
      aria-modal="true"
      role="dialog"
      aria-labelledby="poem-editor-title"
    >
      <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative">
        <button
          id="close-poem-editor"
          class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl"
          aria-label="Close poem editor"
        >
          <i class="fas fa-times"></i>
        </button>
        <h3 id="poem-editor-title" class="text-2xl font-bold text-indigo-600 mb-4">Create Poem</h3>
        <form id="poem-form" class="space-y-4">
          <div>
            <label for="poem-title" class="block font-semibold text-gray-700 mb-1">Title</label>
            <input
              type="text"
              id="poem-title"
              required
              class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
              placeholder="Enter poem title"
            />
          </div>
          <div>
            <label for="poem-content" class="block font-semibold text-gray-700 mb-1">Content</label>
            <textarea
              id="poem-content"
              rows="10"
              required
              class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-y"
              placeholder="Write your poem here..."
            ></textarea>
          </div>
          <div class="flex justify-end space-x-4">
            <button
              type="button"
              id="cancel-poem-btn"
              class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 transition"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 transition"
            >
              Save Poem
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Share Poem Modal -->
    <div
      id="share-poem-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden"
      aria-modal="true"
      role="dialog"
      aria-labelledby="share-poem-title"
    >
      <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6 relative">
        <button
          id="close-share-modal"
          class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl"
          aria-label="Close share modal"
        >
          <i class="fas fa-times"></i>
        </button>
        <h3 id="share-poem-title" class="text-2xl font-bold text-indigo-600 mb-4">Share Poem</h3>
        <p class="mb-4 text-gray-700 break-words" id="share-link-text"></p>
        <div class="flex space-x-4">
          <button
            id="copy-link-btn"
            class="flex-1 bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700 transition flex items-center justify-center space-x-2"
          >
            <i class="fas fa-copy"></i><span>Copy Link</span>
          </button>
          <a
            id="twitter-share-btn"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
            class="flex-1 bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition flex items-center justify-center space-x-2"
          >
            <i class="fab fa-twitter"></i><span>Tweet</span>
          </a>
        </div>
      </div>
    </div>
  </main>

  <footer class="bg-white border-t mt-12 py-6 text-center text-gray-600 text-sm">
    &copy; 2024 Poem Creator. All rights reserved.
  </footer>

  <script>
    // LocalStorage-based user, poem, and password reset management

    // Elements
    const loginSection = document.getElementById('login-section');
    const signupSection = document.getElementById('signup-section');
    const resetSection = document.getElementById('reset-section');
    const dashboardSection = document.getElementById('dashboard-section');

    const navLoginBtn = document.getElementById('nav-login-btn');
    const navSignupBtn = document.getElementById('nav-signup-btn');
    const navDashboardBtn = document.getElementById('nav-dashboard-btn');
    const navLogoutBtn = document.getElementById('nav-logout-btn');

    const switchToSignupBtn = document.getElementById('switch-to-signup');
    const switchToLoginFromSignupBtn = document.getElementById('switch-to-login-from-signup');
    const switchToResetBtn = document.getElementById('switch-to-reset');
    const switchToLoginFromResetBtn = document.getElementById('switch-to-login-from-reset');

    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const resetForm = document.getElementById('reset-form');

    const poemsList = document.getElementById('poems-list');
    const createPoemBtn = document.getElementById('create-poem-btn');

    const poemEditorModal = document.getElementById('poem-editor-modal');
    const closePoemEditorBtn = document.getElementById('close-poem-editor');
    const poemForm = document.getElementById('poem-form');
    const cancelPoemBtn = document.getElementById('cancel-poem-btn');
    const poemTitleInput = document.getElementById('poem-title');
    const poemContentInput = document.getElementById('poem-content');

    const sharePoemModal = document.getElementById('share-poem-modal');
    const closeShareModalBtn = document.getElementById('close-share-modal');
    const shareLinkText = document.getElementById('share-link-text');
    const copyLinkBtn = document.getElementById('copy-link-btn');
    const twitterShareBtn = document.getElementById('twitter-share-btn');

    // State
    let currentUser = null;
    let editingPoemId = null;

    // Utility functions
    function saveUsers(users) {
      localStorage.setItem('poemAppUsers', JSON.stringify(users));
    }

    function getUsers() {
      const users = localStorage.getItem('poemAppUsers');
      return users ? JSON.parse(users) : [];
    }

    function saveCurrentUser(user) {
      localStorage.setItem('poemAppCurrentUser', JSON.stringify(user));
    }

    function getCurrentUser() {
      const user = localStorage.getItem('poemAppCurrentUser');
      return user ? JSON.parse(user) : null;
    }

    function savePoems(poems) {
      localStorage.setItem('poemAppPoems', JSON.stringify(poems));
    }

    function getPoems() {
      const poems = localStorage.getItem('poemAppPoems');
      return poems ? JSON.parse(poems) : [];
    }

    function generateId() {
      return '_' + Math.random().toString(36).substr(2, 9);
    }

    // Authentication & UI control
    function showLogin() {
      loginSection.classList.remove('hidden');
      signupSection.classList.add('hidden');
      resetSection.classList.add('hidden');
      dashboardSection.classList.add('hidden');
      navLoginBtn.classList.remove('hidden');
      navSignupBtn.classList.remove('hidden');
      navDashboardBtn.classList.add('hidden');
      navLogoutBtn.classList.add('hidden');
    }

    function showSignup() {
      loginSection.classList.add('hidden');
      signupSection.classList.remove('hidden');
      resetSection.classList.add('hidden');
      dashboardSection.classList.add('hidden');
      navLoginBtn.classList.remove('hidden');
      navSignupBtn.classList.remove('hidden');
      navDashboardBtn.classList.add('hidden');
      navLogoutBtn.classList.add('hidden');
    }

    function showReset() {
      loginSection.classList.add('hidden');
      signupSection.classList.add('hidden');
      resetSection.classList.remove('hidden');
      dashboardSection.classList.add('hidden');
      navLoginBtn.classList.remove('hidden');
      navSignupBtn.classList.remove('hidden');
      navDashboardBtn.classList.add('hidden');
      navLogoutBtn.classList.add('hidden');
    }

    function showDashboard() {
      loginSection.classList.add('hidden');
      signupSection.classList.add('hidden');
      resetSection.classList.add('hidden');
      dashboardSection.classList.remove('hidden');
      navLoginBtn.classList.add('hidden');
      navSignupBtn.classList.add('hidden');
      navDashboardBtn.classList.remove('hidden');
      navLogoutBtn.classList.remove('hidden');
      renderPoems();
    }

    function renderPoems() {
      poemsList.innerHTML = '';
      const poems = getPoems().filter(p => p.userId === currentUser.id);
      if (poems.length === 0) {
        poemsList.innerHTML = `<p class="text-gray-600 col-span-full text-center">You have no poems yet. Create one!</p>`;
        return;
      }
      poems.forEach(poem => {
        const poemCard = document.createElement('article');
        poemCard.className =
          'bg-white rounded-lg shadow p-4 flex flex-col justify-between border border-gray-200';
        poemCard.setAttribute('data-id', poem.id);

        const titleEl = document.createElement('h3');
        titleEl.className = 'text-xl font-semibold text-indigo-600 mb-2 truncate';
        titleEl.textContent = poem.title;

        const contentPreview = document.createElement('p');
        contentPreview.className = 'text-gray-700 mb-4 whitespace-pre-line overflow-hidden max-h-24';
        contentPreview.textContent = poem.content.length > 150 ? poem.content.slice(0, 150) + '...' : poem.content;

        const btnGroup = document.createElement('div');
        btnGroup.className = 'flex justify-end space-x-3';

        const editBtn = document.createElement('button');
        editBtn.className =
          'text-indigo-600 hover:text-indigo-800 font-semibold flex items-center space-x-1';
        editBtn.innerHTML = '<i class="fas fa-edit"></i><span>Edit</span>';
        editBtn.addEventListener('click', () => openPoemEditor(poem.id));

        const shareBtn = document.createElement('button');
        shareBtn.className =
          'text-green-600 hover:text-green-800 font-semibold flex items-center space-x-1';
        shareBtn.innerHTML = '<i class="fas fa-share-alt"></i><span>Share</span>';
        shareBtn.addEventListener('click', () => openShareModal(poem.id));

        const deleteBtn = document.createElement('button');
        deleteBtn.className =
          'text-red-600 hover:text-red-800 font-semibold flex items-center space-x-1';
        deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i><span>Delete</span>';
        deleteBtn.addEventListener('click', () => deletePoem(poem.id));

        btnGroup.appendChild(editBtn);
        btnGroup.appendChild(shareBtn);
        btnGroup.appendChild(deleteBtn);

        poemCard.appendChild(titleEl);
        poemCard.appendChild(contentPreview);
        poemCard.appendChild(btnGroup);

        poemsList.appendChild(poemCard);
      });
    }

    // Event handlers
    navLoginBtn.addEventListener('click', () => {
      showLogin();
    });

    navSignupBtn.addEventListener('click', () => {
      showSignup();
    });

    navDashboardBtn.addEventListener('click', () => {
      if (currentUser) {
        showDashboard();
      } else {
        showLogin();
      }
    });

    navLogoutBtn.addEventListener('click', () => {
      currentUser = null;
      localStorage.removeItem('poemAppCurrentUser');
      showLogin();
    });

    switchToSignupBtn.addEventListener('click', () => {
      showSignup();
    });

    switchToLoginFromSignupBtn.addEventListener('click', () => {
      showLogin();
    });

    switchToResetBtn.addEventListener('click', () => {
      showReset();
    });

    switchToLoginFromResetBtn.addEventListener('click', () => {
      showLogin();
    });

    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim().toLowerCase();
      const password = document.getElementById('login-password').value;
      const users = getUsers();
      const user = users.find(u => u.email === email && u.password === password);
      if (user) {
        currentUser = user;
        saveCurrentUser(user);
        loginForm.reset();
        showDashboard();
      } else {
        alert('Invalid email or password.');
      }
    });

    signupForm.addEventListener('submit', e => {
      e.preventDefault();
      const name = document.getElementById('signup-name').value.trim();
      const email = document.getElementById('signup-email').value.trim().toLowerCase();
      const password = document.getElementById('signup-password').value;
      const users = getUsers();
      if (users.find(u => u.email === email)) {
        alert('Email already registered. Please login or use another email.');
        return;
      }
      const newUser = {
        id: generateId(),
        name,
        email,
        password,
      };
      users.push(newUser);
      saveUsers(users);
      currentUser = newUser;
      saveCurrentUser(newUser);
      signupForm.reset();
      showDashboard();
    });

    resetForm.addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('reset-email').value.trim().toLowerCase();
      const newPassword = document.getElementById('reset-new-password').value;
      const users = getUsers();
      const userIndex = users.findIndex(u => u.email === email);
      if (userIndex === -1) {
        alert('Email not found. Please check or sign up.');
        return;
      }
      users[userIndex].password = newPassword;
      saveUsers(users);
      alert('Password reset successful. Please login with your new password.');
      resetForm.reset();
      showLogin();
    });

    createPoemBtn.addEventListener('click', () => {
      openPoemEditor();
    });

    closePoemEditorBtn.addEventListener('click', () => {
      closePoemEditor();
    });

    cancelPoemBtn.addEventListener('click', () => {
      closePoemEditor();
    });

    poemForm.addEventListener('submit', e => {
      e.preventDefault();
      const title = poemTitleInput.value.trim();
      const content = poemContentInput.value.trim();
      if (!title || !content) {
        alert('Please fill in both title and content.');
        return;
      }
      let poems = getPoems();
      if (editingPoemId) {
        // Edit existing poem
        poems = poems.map(p => {
          if (p.id === editingPoemId) {
            return { ...p, title, content, updatedAt: new Date().toISOString() };
          }
          return p;
        });
      } else {
        // Create new poem
        const newPoem = {
          id: generateId(),
          userId: currentUser.id,
          title,
          content,
          createdAt: new Date().toISOString(),
          updatedAt: new Date().toISOString(),
        };
        poems.push(newPoem);
      }
      savePoems(poems);
      closePoemEditor();
      renderPoems();
    });

    // Poem editor open/close
    function openPoemEditor(poemId = null) {
      editingPoemId = poemId;
      if (poemId) {
        const poems = getPoems();
        const poem = poems.find(p => p.id === poemId);
        if (poem) {
          poemTitleInput.value = poem.title;
          poemContentInput.value = poem.content;
          poemEditorModal.querySelector('h3').textContent = 'Edit Poem';
        }
      } else {
        poemTitleInput.value = '';
        poemContentInput.value = '';
        poemEditorModal.querySelector('h3').textContent = 'Create Poem';
      }
      poemEditorModal.classList.remove('hidden');
      poemTitleInput.focus();
      document.body.style.overflow = 'hidden';
    }

    function closePoemEditor() {
      poemEditorModal.classList.add('hidden');
      editingPoemId = null;
      poemForm.reset();
      document.body.style.overflow = '';
    }

    // Delete poem
    function deletePoem(poemId) {
      if (confirm('Are you sure you want to delete this poem?')) {
        let poems = getPoems();
        poems = poems.filter(p => p.id !== poemId);
        savePoems(poems);
        renderPoems();
      }
    }

    // Share modal
    function openShareModal(poemId) {
      const poems = getPoems();
      const poem = poems.find(p => p.id === poemId);
      if (!poem) return;
      const baseUrl = window.location.origin + window.location.pathname;
      // Create a shareable URL with poem id as query param
      const shareUrl = `${baseUrl}?share=${poem.id}`;
      shareLinkText.textContent = shareUrl;
      twitterShareBtn.href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(
        `Check out this poem titled "${poem.title}": ${shareUrl}`
      )}`;
      sharePoemModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    closeShareModalBtn.addEventListener('click', () => {
      closeShareModal();
    });

    copyLinkBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(shareLinkText.textContent).then(() => {
        copyLinkBtn.textContent = 'Copied!';
        setTimeout(() => {
          copyLinkBtn.innerHTML = '<i class="fas fa-copy"></i><span>Copy Link</span>';
        }, 2000);
      });
    });

    function closeShareModal() {
      sharePoemModal.classList.add('hidden');
      document.body.style.overflow = '';
    }

    // On page load, check if user is logged in or if a poem is shared via URL
    window.addEventListener('load', () => {
      currentUser = getCurrentUser();
      const urlParams = new URLSearchParams(window.location.search);
      const sharedPoemId = urlParams.get('share');
      if (sharedPoemId) {
        // Show shared poem in a read-only modal
        const poems = getPoems();
        const poem = poems.find(p => p.id === sharedPoemId);
        if (poem) {
          openSharedPoemModal(poem);
          return;
        }
      }
      if (currentUser) {
        showDashboard();
      } else {
        showLogin();
      }
    });

    // Shared poem modal (read-only)
    function openSharedPoemModal(poem) {
      // Create a modal similar to poem editor but read-only
      const modal = document.createElement('div');
      modal.className =
        'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50';
      modal.setAttribute('role', 'dialog');
      modal.setAttribute('aria-modal', 'true');
      modal.setAttribute('aria-labelledby', 'shared-poem-title');

      const modalContent = document.createElement('div');
      modalContent.className =
        'bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative';

      const closeBtn = document.createElement('button');
      closeBtn.className = 'absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl';
      closeBtn.setAttribute('aria-label', 'Close shared poem');
      closeBtn.innerHTML = '<i class="fas fa-times"></i>';
      closeBtn.addEventListener('click', () => {
        document.body.removeChild(modal);
        history.replaceState(null, '', window.location.pathname);
        if (currentUser) {
          showDashboard();
        } else {
          showLogin();
        }
        document.body.style.overflow = '';
      });

      const titleEl = document.createElement('h3');
      titleEl.id = 'shared-poem-title';
      titleEl.className = 'text-3xl font-bold text-indigo-600 mb-4';
      titleEl.textContent = poem.title;

      const contentEl = document.createElement('pre');
      contentEl.className = 'whitespace-pre-wrap text-gray-800 text-lg';
      contentEl.textContent = poem.content;

      modalContent.appendChild(closeBtn);
      modalContent.appendChild(titleEl);
      modalContent.appendChild(contentEl);
      modal.appendChild(modalContent);
      document.body.appendChild(modal);
      document.body.style.overflow = 'hidden';
    }
  </script>
</body>
</html>
